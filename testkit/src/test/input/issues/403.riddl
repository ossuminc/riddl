domain Example is {
    context ExampleContext is {
	command DoFoo is {foo: Foo}
		type Foo is {
			bar: String
		}
		entity FooEntity is {
		  record FooExampleState is {
	            foo: Foo
	          }
	          state FooExample of FooExampleState is {
	            handler HandleFoo is {
	              on command ExampleContext.DoFoo {
		          example TwoErrors {
		            then set FooEntity.FooExampleState.foo to !Foo(badField = @DooFoo.badField)
		          }
	           }
	        }
	    }
    }
  }
}
